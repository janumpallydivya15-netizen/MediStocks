{% extends "base.html" %}

{% block content %}
<h2>Medicines List</h2>

<table border="1">
    <tr>
        <th>Name</th>
        <th>Quantity</th>
        <th>Actions</th>
    </tr>

    {% for med in medicines %}
    <tr>
        <td>{{ med.name }}</td>
        <td>{{ med.quantity }}</td>
        <td>

            <!-- EDIT FORM -->
            <form method="POST"
                  action="{{ url_for('edit_medicine', medicine_id=med.medicine_id) }}"
                  style="display:inline;">
                <input type="text" name="medicine_name" value="{{ med.name }}" required>
                <input type="number" name="quantity" value="{{ med.quantity }}" required>
                <button type="submit">Update</button>
            </form>

            <!-- DELETE FORM (ADD THIS) -->
            <form method="POST"
                  action="{{ url_for('delete_medicine', medicine_id=med.medicine_id) }}"
                  style="display:inline;">
                <button type="submit"
                        onclick="return confirm('Are you sure you want to delete this medicine?')">
                    Delete
                </button>
            </form>

        </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
